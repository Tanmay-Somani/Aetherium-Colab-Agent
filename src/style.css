/* style.css (Corrected and Responsive) */

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  background-color: #f4f4f9;
  color: #333;
  margin: 0;
  /* On smaller screens, allow the body to be taller than the viewport */
  min-height: 100vh;
}

#app-container {
  display: grid;
  /* This is the desktop-first layout */
  grid-template-columns: 1fr 3fr 1.5fr;
  height: 100vh;
  gap: 1rem;
  padding: 1rem;
  box-sizing: border-box;
}

#writing-area { display: flex; flex-direction: column; gap: 1rem; min-width: 0; }
.ProseMirror { flex-grow: 1; background-color: #ffffff; border-radius: 8px; border: 1px solid #ddd; padding: 1rem 1.5rem; overflow-y: auto; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
.ProseMirror:focus { outline: none; border-color: #6366f1; box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2); }
.ProseMirror h2 { margin-top: 1.5em; }

#ai-panel, #structure-panel { background-color: #ffffff; border-radius: 8px; border: 1px solid #ddd; box-shadow: 0 1px 3px rgba(0,0,0,0.05); display: flex; flex-direction: column; min-width: 0; }
.panel-header { padding: 0.75rem 1.25rem; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
.panel-header h3 { margin: 0; font-size: 1rem; }
#ai-response-area, #structure-list { padding: 1.25rem; overflow-y: auto; flex-grow: 1; font-size: 0.9rem; line-height: 1.6; }
.placeholder { color: #999; }

#refresh-structure-btn { background: none; border: none; font-size: 1.2rem; cursor: pointer; opacity: 0.7; transition: opacity 0.2s, transform 0.2s; }
#refresh-structure-btn:hover { opacity: 1; transform: rotate(90deg); }

#structure-list ul { list-style-type: none; padding-left: 0; margin: 0; }
#structure-list li { padding: 0.5rem 0; cursor: pointer; border-radius: 4px; transition: background-color 0.2s; }
#structure-list li:hover { background-color: #f4f4f9; }

.controls { display: flex; flex-wrap: wrap; gap: 0.75rem; }
.controls button {
  font-size: 0.9rem;
  font-weight: 500;
  padding: 0.6rem 1.2rem;
  border-radius: 8px;
  border: 1px solid transparent;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  /* FIX: Corrected typo from #fffff to #ffffff */
  color: #ffffff;
}
.controls button:hover { transform: translateY(-2px); }
/* (All other button styles remain the same) */
.controls button.loading::after { content: '...'; position: absolute; right: 10px; }
.controls button:disabled { cursor: not-allowed; opacity: 0.7; }
.suggest-btn { background-color: #6366f1; border-color: #4f46e5; }
.suggest-btn:hover { background-color: #4f46e5; }
button[data-task="improve"] { background-color: #10b981; border-color: #059669; }
button[data-task="improve"]:hover { background-color: #059669; }
button[data-task="summarize"] { background-color: #3b82f6; border-color: #2563eb; }
button[data-task="summarize"]:hover { background-color: #2563eb; }
button[data-task="review"] { background-color: #8b5cf6; border-color: #7c3aed; }
button[data-task="review"]:hover { background-color: #7c3aed; }
.memory-btn { background-color: #f97316; border-color: #ea580c; }
.memory-btn:hover { background-color: #ea580c; }

/* (Dark Mode styles remain the same) */
/* ... */

/*
========================================
RESPONSIVE STYLES (Mobile First Approach)
========================================
*/

/* This media query applies when the screen width is 1024px or less */
@media (max-width: 1024px) {
  body {
    overflow: auto; /* Allow scrolling on smaller screens */
  }

  #app-container {
    /* Change to a single-column layout */
    grid-template-columns: 1fr;
    height: auto; /* Allow the container to grow vertically */
    /* Define the order for a more logical mobile layout */
    grid-template-areas:
      "structure"
      "writing"
      "ai";
  }

  /* Assign each area to its named grid area */
  #structure-panel {
    grid-area: structure;
    /* Give a minimum height so it doesn't collapse */
    min-height: 200px;
  }
  #writing-area {
    grid-area: writing;
    height: 60vh;
  }
  #ai-panel {
    grid-area: ai;
    min-height: 200px;
  }
}